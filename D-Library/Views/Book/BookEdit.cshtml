@model D_Library.Models.Model.BookEditModel
@using D_Library.Models.Repository
@{
    ViewBag.Title = "BookEdit";
    Layout = "~/Views/Shared/_Dashboard.cshtml";
}


<section class="col-md-9 container-fluid main-section">
    @using (Html.BeginForm("BookEdit", "Book", FormMethod.Post, htmlAttributes: new { @class = "panel-info form-form form-form-indasdboard", @style = "max-width:870px;" }))
    {

        @Html.AntiForgeryToken()

        @Html.HiddenFor(model => model.ID)

        <div class=" form-heading  text-center">
            ویرایش
        </div>

        <div class="panel-body">

            <div class="form-group">
                @Html.LabelFor(model => model.Book.Book_Code, htmlAttributes: new { @class = "" })
                <div class="input-group">
                    <span class=" input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
                    @Html.EditorFor(model => model.Book.Book_Code, new { htmlAttributes = new { @class = "form-control text-center" } })
                </div>
                @Html.ValidationMessageFor(model => model.Book.Book_Code, "", new { @class = "text-danger" })
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Book.Book_Name, htmlAttributes: new { @class = "" })
                <div class="input-group">
                    <span class=" input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
                    @Html.EditorFor(model => model.Book.Book_Name, new { htmlAttributes = new { @class = "form-control text-center" } })
                </div>
                @Html.ValidationMessageFor(model => model.Book.Book_Name, "", new { @class = "text-danger" })
            </div>


            @*<div class="form-group material-switch-body">
                    <label class="pull-left">نمایش در جستجو میهمان ها</label>
                    <div class="material-switch pull-right">
                        @Html.CheckBoxFor(model => model.Book.Book_GuestSearchEnabel, htmlAttributes: new { @class = " " })
                        @Html.LabelFor(model => model.Book.Book_GuestSearchEnabel, htmlAttributes: new { @class = "label-success" })


                    </div>
                </div>*@


            <div class="form-group material-switch-body">
                <label class="pull-left">نسخه دیجتال دارد</label>
                <div class="material-switch pull-right">
                    @Html.CheckBoxFor(model => model.Details.BD_DigitalVersionAvailable, htmlAttributes: new { @class = " " })
                    @Html.LabelFor(model => model.Details.BD_DigitalVersionAvailable, htmlAttributes: new { @class = "label-success" })
                </div>
            </div>

            <div class="form-group material-switch-body">
                <label class="pull-left">نسخه فیزیکی دارد</label>
                <div class="material-switch pull-right PVA">
                    @Html.CheckBoxFor(model => model.Details.BD_PhysicalVersionAvailable, htmlAttributes: new { @class = " " })
                    @Html.LabelFor(model => model.Details.BD_PhysicalVersionAvailable, htmlAttributes: new { @class = "label-success" })

                </div>
            </div>



            <div id="PVA" class="form-group " style="display:none">
                @Html.LabelFor(model => Model.Details.BD_LibraryID, htmlAttributes: new { @class = "" })
                @{
                    Rep_Library brr = new Rep_Library();
                    @Html.DropDownListFor(model => Model.Details.BD_BranchID, brr.Get_AllLibrarySelectList(), htmlAttributes: new { @class = "form-control chosen-select  text-center" });
                }
            </div>


            <div class="form-group ">
                @Html.LabelFor(model => Model.Details.BD_LanguageID, htmlAttributes: new { @class = "" })
                @{
                    Rep_Language lan = new Rep_Language();
                    @Html.DropDownListFor(model => Model.Details.BD_LanguageID, lan.Get_AllLanguageSelectList(), htmlAttributes: new { @class = "form-control chosen-select  text-center" });
                }
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Details.BD_PageCount, htmlAttributes: new { @class = "" })
                <div class="input-group">
                    <span class=" input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
                    @Html.EditorFor(model => model.Details.BD_PageCount, new { htmlAttributes = new { @class = "form-control text-center" } })
                </div>
                @Html.ValidationMessageFor(model => model.Details.BD_PageCount, "", new { @class = "text-danger" })
            </div>

            @{
                foreach (var item in Model.DetailsNav)
                {
                    switch (item)
                    {
                        case "Titel":
                            <div class="form-group">
                                @Html.LabelFor(model => model.Details.BD_Titel, htmlAttributes: new { @class = "" })
                                <div class="input-group">
                                    <span class=" input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
                                    @Html.EditorFor(model => model.Details.BD_Titel, new { htmlAttributes = new { @class = "form-control text-center" } })
                                </div>
                                @Html.ValidationMessageFor(model => model.Details.BD_Titel, "", new { @class = "text-danger" })
                            </div>
                            break;
                        case "Abstract":
                            <div class="form-group">
                                @Html.LabelFor(model => model.Details.BD_Abstract, htmlAttributes: new { @class = "" })
                                <div class="input-group">
                                    @Html.EditorFor(model => model.Details.BD_Abstract, new { htmlAttributes = new { @class = "form-control ckeditor" } })
                                </div>
                                @Html.ValidationMessageFor(model => model.Details.BD_Abstract, "", new { @class = "text-danger" })
                            </div>
                            break;
                        case "Student":
                            <div class="form-group ">
                                @Html.LabelFor(model => Model.Details.BD_StudentID, htmlAttributes: new { @class = "" })
                                @{
                                    Rep_Student _Student = new Rep_Student();
                                    @Html.DropDownListFor(model => Model.Details.BD_StudentID, _Student.Get_AllSelectList(), htmlAttributes: new { @class = "form-control chosen-select  text-center" });
                                }
                            </div>
                            break;
                        case "Master":
                            <div class="form-group ">
                                @Html.LabelFor(model => Model.Details.BD_MasterID, htmlAttributes: new { @class = "" })
                                @{
                                    Rep_Professor _Professor = new Rep_Professor();
                                    @Html.DropDownListFor(model => Model.Details.BD_MasterID, _Professor.Get_AllProfessorSelectList(), htmlAttributes: new { @class = "form-control chosen-select  text-center" });
                                }
                            </div>
                            break;
                        case "ISBN":
                            <div class="form-group">
                                @Html.LabelFor(model => model.Details.BD_ISBN, htmlAttributes: new { @class = "" })
                                <div class="input-group">
                                    <span class=" input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
                                    @Html.EditorFor(model => model.Details.BD_ISBN, new { htmlAttributes = new { @class = "form-control text-center" } })
                                </div>
                                @Html.ValidationMessageFor(model => model.Details.BD_ISBN, "", new { @class = "text-danger" })
                            </div>
                            break;
                        case "Group":
                            <div class="form-group ">
                                @Html.LabelFor(model => Model.Details.BD_GroupID, htmlAttributes: new { @class = "" })
                                @{
                                    Rep_GroupBranch gp = new Rep_GroupBranch();
                                    @Html.DropDownListFor(model => Model.Details.BD_GroupID, gp.Get_AllGroupSelectList(), htmlAttributes: new { @class = "form-control chosen-select  text-center" });
                                }
                            </div>
                            break;
                        case "Branch":
                            <div class="form-group ">
                                @Html.LabelFor(model => Model.Details.BD_BranchID, htmlAttributes: new { @class = "" })
                                @{
                                    Rep_GroupBranch br = new Rep_GroupBranch();
                                    @Html.DropDownListFor(model => Model.Details.BD_BranchID, br.Get_AllBranchSelectList(), htmlAttributes: new { @class = "form-control chosen-select  text-center" });
                                }
                            </div>
                            break;
                        case "Publishers":
                            <div class="form-group">
                                @Html.LabelFor(model => model.Details.BD_Publishers, htmlAttributes: new { @class = "" })
                                <div class="input-group">
                                    <span class=" input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
                                    @Html.EditorFor(model => model.Details.BD_Publishers, new { htmlAttributes = new { @class = "form-control text-center" } })
                                </div>
                                @Html.ValidationMessageFor(model => model.Details.BD_Publishers, "", new { @class = "text-danger" })
                            </div>
                            break;
                        case "Subject":
                            <div class="form-group">
                                @Html.LabelFor(model => model.Details.BD_Subject, htmlAttributes: new { @class = "" })
                                <div class="input-group">
                                    <span class=" input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
                                    @Html.EditorFor(model => model.Details.BD_Subject, new { htmlAttributes = new { @class = "form-control text-center" } })
                                </div>
                                @Html.ValidationMessageFor(model => model.Details.BD_Subject, "", new { @class = "text-danger" })
                            </div>
                            break;
                        case "Description":
                            <div class="form-group">
                                @Html.LabelFor(model => model.Details.BD_Description, htmlAttributes: new { @class = "" })
                                <div class="input-group">
                                    @Html.EditorFor(model => model.Details.BD_Description, new { htmlAttributes = new { @class = "form-control ckeditor" } })
                                </div>
                                @Html.ValidationMessageFor(model => model.Details.BD_Description, "", new { @class = "text-danger" })
                            </div>
                            break;
                        case "WriterName":
                            <div class="form-group">
                                @Html.LabelFor(model => model.Details.BD_WriterName, htmlAttributes: new { @class = "" })
                                <div class="input-group">
                                    <span class=" input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
                                    @Html.EditorFor(model => model.Details.BD_WriterName, new { htmlAttributes = new { @class = "form-control text-center" } })
                                </div>
                                @Html.ValidationMessageFor(model => model.Details.BD_WriterName, "", new { @class = "text-danger" })
                            </div>
                            break;
                        case "ReleaseCount":
                            <div class="form-group">
                                @Html.LabelFor(model => model.Details.BD_ReleaseCount, htmlAttributes: new { @class = "" })
                                <div class="input-group">
                                    <span class=" input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
                                    @Html.EditorFor(model => model.Details.BD_ReleaseCount, new { htmlAttributes = new { @class = "form-control text-center" } })
                                </div>
                                @Html.ValidationMessageFor(model => model.Details.BD_ReleaseCount, "", new { @class = "text-danger" })
                            </div>
                            break;
                        case "Translator":
                            <div class="form-group">
                                @Html.LabelFor(model => model.Details.BD_Translator, htmlAttributes: new { @class = "" })
                                <div class="input-group">
                                    <span class=" input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
                                    @Html.EditorFor(model => model.Details.BD_Translator, new { htmlAttributes = new { @class = "form-control text-center" } })
                                </div>
                                @Html.ValidationMessageFor(model => model.Details.BD_Translator, "", new { @class = "text-danger" })
                            </div>
                            break;


                        default:
                            break;
                    }
                }
            }



        </div>

        <button class="btn btn-success  AddNewUser-button" type="submit" name="btn-BuildCode" style="margin-bottom:50px;">تایید</button>

    }

</section>

<script>

    $(".PVA").click(function () {

        var checkBox = document.getElementById("Details_BD_PhysicalVersionAvailable");

        var text = document.getElementById("PVA");

        if (checkBox.checked == true) {
            text.style.display = "block";
        } else {
            text.style.display = "none";
        }
    });


    $(".PVA").ready(function () {

        var checkBox = document.getElementById("Details_BD_PhysicalVersionAvailable");

        var text = document.getElementById("PVA");

        if (checkBox.checked == true) {
            text.style.display = "block";
        } else {
            text.style.display = "none";
        }
    });


    $(function () {
        $("input[type='hidden']").remove();
    });
</script>

